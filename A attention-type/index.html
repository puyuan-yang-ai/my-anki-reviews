
<html>
<head>
<meta charset="UTF-8">
<title>Export Notes by xxhk.org</title>
<style>

body { font-family: Arial, sans-serif; }
.card { border: 2px solid #000; padding: 10px; border-radius: 10px; margin-bottom: 20px; }
img {
max-width: 100%;
height: auto;
border: 1px solid lightgray;
border-radius: 10px;
display: inline-block;
margin: 10px 0px;
}
.separator { border-top: 1px dashed #000; margin: 10px 0; }
.tags { background-color: lightgray; padding: 5px 10px; margin-bottom: 10px; border-radius: 5px; display: inline-block; }
.footer {
text-align: center;
color: grey;
margin-top: 20px;
padding: 10px;
}

.video-container {
margin: 10px 0;
}
.video-placeholder {
position: relative;
cursor: pointer;
}
.play-button {
position: absolute;
top: 50%;
left: 50%;
transform: translate(-50%, -50%);
width: 68px;
height: 48px;
background-color: rgba(0, 0, 0, 0.7);
border-radius: 14px;
cursor: pointer;
}
.play-button::before {
content: '';
position: absolute;
top: 50%;
left: 55%;
transform: translate(-50%, -50%);
border-style: solid;
border-width: 12px 0 12px 20px;
border-color: transparent transparent transparent white;
}
.play-button:hover {
background-color: red;
}

</style>

</head>
<body>
<div id="cards-container">
<div class="card">
<div class="field_0"><div>MHA Multi Head Attention，对应的结构图是什么样子？&nbsp;&nbsp;</div></div>
<div class="separator"></div>
<div class="field_1"><img src="images/paste-949ca34c8ddba84a32450aec79164cd71ef4c478.jpg"></div>
</div>
<div class="card">
<div class="field_0"><div>MQA Multi Query Attention，对应的结构图是什么样子？&nbsp;&nbsp;</div></div>
<div class="separator"></div>
<div class="field_1"><img src="images/paste-9b3014dd15eca365366c9d107d2cef344929845a.jpg"></div>
</div>
<div class="card">
<div class="field_0"><div>GQA Group Query Attention，对应的结构图是什么样子？&nbsp;&nbsp;</div></div>
<div class="separator"></div>
<div class="field_1"><img src="images/paste-3eccf5a2a76e07aa545393a2d7b2bc5d46bd6864.jpg"></div>
</div>
<div class="card">
<div class="field_0"><div>在标准的多头注意力中，我们会把输入向量投影成 h 份独立的什么，并行计算每一个头的注意力，然后将各头输出怎样样来形成最终结果。</div></div>
<div class="separator"></div>
<div class="field_1">Q,K,V&nbsp; 矩阵（即有 h 组 Q、K、V），<br>拼接（或加权结合）起来、</div>
</div>
<div class="card">
<div class="field_0"><div>MQA：Multi-Query Attention 他的基本思想是什么？&nbsp;</div></div>
<div class="separator"></div>
<div class="field_1">MQA 在多头注意力中只保留“<b><span style="color: rgb(255, 0, 127);">多头的 Query（Q）</span></b>”，而让所有头<span style="color: rgb(255, 0, 127);"><b>共享同一份</b></span>或少数份<span style="color: rgb(255, 0, 127);"><b> K、V</b></span>。依然有 hhh 个 Q（多头查询），但 <strong>K 和 V 只保留 1 份</strong> 或极少份，所有头共同使用。</div>
</div>
<div class="card">
<div class="field_0"><div>在Transformer的自注意力结构中，常见的几种变体包括哪3种？ 【对应的中文名称，英文名称和英文简写。】</div></div>
<div class="separator"></div>
<div class="field_1"><ul><li>MHA（Multi-Head Attention）多头注意力。&nbsp; </li><li>MQA（Multi-Query Attention）多查询注意力。</li><li>GQA（Grouped Query Attention 分组查询注意力。</li></ul>&nbsp;</div>
</div>
<div class="card">
<div class="field_0">【面试问题】能介绍下&nbsp;<strong>MQA</strong>这种注意力机制 ？</div>
<div class="separator"></div>
<div class="field_1"><li><strong>MQA（Multi-Query Attention）</strong>&nbsp;就是把 K、V 合并或共享掉，只保留多头的 Q 不变；也就是说，所有头都用同一份 K、V，减少了很多存储和计算量。好处是解码速度更快，坏处是不同头之间的多样性被压缩。</li></div>
</div>
<div class="card">
<div class="field_0">【面试问题】能介绍下 MHA、MQA、GQA 这三种注意力机制的区别和联系吗？</div>
<div class="separator"></div>
<div class="field_1"><li><strong>MHA</strong>：最原始的多头注意力，每个头独立 Q/K/V。</li><li><strong>MQA</strong>：只保留多头的 Q，共享或合并 K、V。</li><li><strong>GQA</strong>：分组共享 K、V。</li><br><li><strong>MHA（Multi-Head Attention）</strong> 是我们最常见的多头注意力，每个头都有自己的一套 Q、K、V，可以让不同头关注不同特征。缺点就是比较耗显存，尤其对大模型来说需要维护很多 K、V 矩阵。</li><li><strong>MQA（Multi-Query Attention）</strong> 就是把 K、V 合并或共享掉，只保留多头的 Q 不变；也就是说，所有头都用同一份 K、V，减少了很多存储和计算量。好处是解码速度更快，坏处是不同头之间的多样性被压缩。</li><li><strong>GQA（Grouped Query Attention）</strong> 介于两者之间：它把头分成若干组，让每组共用一份 K、V。这比 MHA 节省资源，又比 MQA 灵活一些。这样做能兼顾一定的多样性，同时不会像 MHA 那样开销巨大。</li></div>
</div>
<div class="card">
<div class="field_0">【面试问题】能介绍下&nbsp;<strong>GQA&nbsp;</strong>这种注意力机制 ？</div>
<div class="separator"></div>
<div class="field_1"><strong>GQA（Grouped Query Attention）</strong>&nbsp;介于两者之间：它把头分成若干组，让每组共用一份 K、V。这比 MHA 节省资源，又比 MQA 灵活一些。这样做能兼顾一定的多样性，同时不会像 MHA 那样开销巨大。</div>
</div>
<div class="card">
<div class="field_0">MHA ，
MQA，
GQA，这三者它们的区别是什么？ 【K、V 的共享程度】</div>
<div class="separator"></div>
<div class="field_1"><li><strong>MHA</strong>：每个头都有独立的 K、V；</li><li><strong>MQA</strong>：所有头共用一份（或非常少份）K、V；</li><li><strong>GQA</strong>：把头分组，每组共用一份 K、V。</li></div>
</div>
<div class="card">
<div class="field_0"><div>GQA：Grouped Query Attention 核心思想是什么？&nbsp;</div></div>
<div class="separator"></div>
<div class="field_1">于 MHA 与 MQA 之间的一种<span style="color: rgb(255, 0, 127);"><b>折中</b></span>方案。在 GQA 中，我们把<span style="color: rgb(255, 0, 127);"><b>头分成若干个“组”</b></span>，让每个组<span style="color: rgb(255, 0, 127);"><b>共用一份 K、V</b></span>；也就是说，多个头会对应同一个 K、V，而这些<b><span style="color: rgb(255, 0, 127);">头在 Q 上仍然独立。</span></b><br><img src="images/paste-620e9df8704cb998e71e03cd549d04aaacbaec15.jpg"></div>
</div>
<div class="card">
<div class="field_0">MHA ，
MQA，
GQA，这三者它们的共同点是什么？ 【Q 的角度】</div>
<div class="separator"></div>
<div class="field_1">三种方式都保留了多头 Q，只不过MQA/GQA在 K、V 的分组与共享上做了改动。</div>
</div>
<div class="card">
<div class="field_0">【面试问题】能介绍下 MHA 这种注意力机制 ？</div>
<div class="separator"></div>
<div class="field_1"><li><strong>MHA（Multi-Head Attention）</strong> 是我们最常见的多头注意力，每个头都有自己的一套 Q、K、V，可以让不同头关注不同特征。缺点就是比较耗显存，尤其对大模型来说需要维护很多 K、V 矩阵。</li></div>
</div>

<script>
document.addEventListener('click', function(e) {
const container = e.target.closest('.video-container');
if (!container) return;

const placeholder = container.querySelector('.video-placeholder');
if (!placeholder) return;

const videoId = container.dataset.videoId;
const startParam = container.dataset.start || '';

const iframe = document.createElement('iframe');
iframe.width = '100%';
iframe.height = '100%';
iframe.src = `https://www.youtube.com/embed/${videoId}?${startParam.slice(1)}`;
iframe.title = 'YouTube video player';
iframe.frameBorder = '0';
iframe.style.position = 'absolute';
iframe.style.top = '0';
iframe.style.left = '0';
iframe.style.borderRadius = '15px';
iframe.allow = 'accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share';
iframe.allowFullscreen = true;

placeholder.innerHTML = '';
placeholder.appendChild(iframe);
});
</script>

</div>
<div class="footer">Made by <a href="https://xxhk.org">Export Notes - XXHK</a></div>
</body>
</html>

