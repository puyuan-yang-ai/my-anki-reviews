
<html>
<head>
<meta charset="UTF-8">
<title>Export Notes by xxhk.org</title>
<style>

body { font-family: Arial, sans-serif; }
.card { border: 2px solid #000; padding: 10px; border-radius: 10px; margin-bottom: 20px; }
img {
max-width: 100%;
height: auto;
border: 1px solid lightgray;
border-radius: 10px;
display: inline-block;
margin: 10px 0px;
}
.separator { border-top: 1px dashed #000; margin: 10px 0; }
.tags { background-color: lightgray; padding: 5px 10px; margin-bottom: 10px; border-radius: 5px; display: inline-block; }
.footer {
text-align: center;
color: grey;
margin-top: 20px;
padding: 10px;
}

.video-container {
margin: 10px 0;
}
.video-placeholder {
position: relative;
cursor: pointer;
}
.play-button {
position: absolute;
top: 50%;
left: 50%;
transform: translate(-50%, -50%);
width: 68px;
height: 48px;
background-color: rgba(0, 0, 0, 0.7);
border-radius: 14px;
cursor: pointer;
}
.play-button::before {
content: '';
position: absolute;
top: 50%;
left: 55%;
transform: translate(-50%, -50%);
border-style: solid;
border-width: 12px 0 12px 20px;
border-color: transparent transparent transparent white;
}
.play-button:hover {
background-color: red;
}

</style>

</head>
<body>
<div id="cards-container">
<div class="card">
<div class="field_0">定义函数调用（Function Calling）的 schema，指的是什么？</div>
<div class="separator"></div>
<div class="field_1">指的是tools 这个工具列表，可以包含多个函数定义。</div>
</div>
<div class="card">
<div class="field_0"><div><div>在Function Call 里面，下面这行代码，它的作用是什么？</div></div><div><div>response = chat_completion_request(messages, tools=tools, tool_choice="auto")</div></div><div><br></div></div>
<div class="separator"></div>
<div class="field_1">第一次将prompt传入到模型当中，并且指定tools工具函数以及选择工具函数的方式。&nbsp;</div>
</div>
<div class="card">
<div class="field_0">Function Call里面，<br>description存在于两个级别里面，分别是哪两种级别？&nbsp;</div>
<div class="separator"></div>
<div class="field_1"><ul><li>函数级 description，</li><li>参数级 description。</li></ul></div>
</div>
<div class="card">
<div class="field_0">Function Call里面，<br><div>tools里面的description 部分，是给谁看的？它的质量直接影响了什么？&nbsp;</div></div>
<div class="separator"></div>
<div class="field_1">是给模型看的，它的质量直接影响模型的理解和使用函数的准确性。</div>
</div>
<div class="card">
<div class="field_0"><div><div>在Function Call 里面，</div></div><div>available_functions 的键必须与 谁完全匹配？<br></div></div>
<div class="separator"></div>
<div class="field_1">tools 中的函数名。</div>
</div>
<div class="card">
<div class="field_0">Function Call里面，<br><div>涉及到两次的模型调用chat_completion_request，</div><div>第二次调用它的目的是什么？&nbsp;</div></div>
<div class="separator"></div>
<div class="field_1"><pre><span style="color: var(--color-prettylights-syntax-comment);"># - 基于函数返回的结果</span>
<span style="color: var(--color-prettylights-syntax-comment);"># - 生成人类可读的最终回复</span>
<span style="color: var(--color-prettylights-syntax-comment);"># - 不需要再提供 tools 参数</span></pre></div>
</div>
<div class="card">
<div class="field_0">Function Call里面，<br>function_args = json.loads(response_message.tool_calls[0].function.arguments)<br>这行代码的各个部分是什么意思？&nbsp;</div>
<div class="separator"></div>
<div class="field_1"><ul><li>response_message.tool_calls[0].function.arguments 获取包含 JSON 格式的参数字符串</li><li>json.loads() 将 JSON 字符串转换为 Python 字典</li></ul></div>
</div>
<div class="card">
<div class="field_0">Function Call里面，<br>模型如何选择函数？【哪两方面的考虑？ 】</div>
<div class="separator"></div>
<div class="field_1"><ul><li>基于 tools 中的函数描述，</li><li>根据用户问题的具体内容。</li></ul></div>
</div>
<div class="card">
<div class="field_0">下面红色四个参数的作用？<br><span style="color: rgb(255, 0, 127);"><b>tools</b></span> = [<br>&nbsp;&nbsp;&nbsp; {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "type": "function",<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "function": {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "name": "get_current_weather",<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "<span style="color: rgb(255, 0, 127);"><b>description</b></span>": "获取当前天气",<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "<span style="color: rgb(255, 0, 127);"><b>parameters</b></span>": {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "type": "object",<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "properties": {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "location": {"type": "string"}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; },<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "<b><span style="color: rgb(255, 0, 127);">required</span></b>": ["location"]<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br>&nbsp;&nbsp;&nbsp; },<br>&nbsp; &nbsp;<br>]</div>
<div class="separator"></div>
<div class="field_1"><ol><li><b><code>tools</code>&nbsp;</b>是模型的"菜单"，告诉它有<b><span style="color: rgb(255, 0, 127);">哪些可用</span></b>的函数【模型<span style="color: rgb(255, 0, 127);"><b>可以使用哪些</b></span>函数】</li><li><b><code>description</code>&nbsp;</b>帮助模型理解<b><span style="color: rgb(255, 0, 127);">何时</span></b>使用这个函数【<span style="color: rgb(255, 0, 127);"><b>如何使用</b></span>这些函数】</li><li><b><code>parameters</code>&nbsp;</b>定义了函数需要的参数【需要<b><span style="color: rgb(255, 0, 127);">什么参数</span></b>】</li><li><b><code>required</code>&nbsp;</b>指定了<b><span style="color: rgb(255, 0, 127);">必需的参数&nbsp;</span></b></li></ol></div>
</div>
<div class="card">
<div class="field_0">Function Call里面，<br><div><div>tool_calls 如何从字面上来理解它的功能呢？&nbsp;&nbsp;</div></div></div>
<div class="separator"></div>
<div class="field_1"><ul><li><span style="color: rgb(97, 97, 97); background-color: rgb(255, 255, 255);">tool：工具，表示这是一个工具（在这里就是函数），</span></li><li><span style="color: rgb(97, 97, 97); background-color: rgb(255, 255, 255);">calls：调用，表示对工具的调用，</span></li><li><span style="color: rgb(97, 97, 97); background-color: rgb(255, 255, 255);">tool_calls：合起来就是"工具调用"，即"要调用的工具列表"。</span></li></ul></div>
</div>
<div class="card">
<div class="field_0">Function Call里面，<br><div>参数级 description&nbsp; 的作用是什么？&nbsp;</div></div>
<div class="separator"></div>
<div class="field_1"><ul><li>详细说明参数的具体要求</li><li>列出参数的取值范围</li><li>说明参数的格式要求</li><li>提供参数示例</li></ul></div>
</div>
<div class="card">
<div class="field_0"><div>使用Function Call的基本流程里面的 定义Funtion Tools 是什么意思？</div></div>
<div class="separator"></div>
<div class="field_1"><div>定义外部函数，描述函数功能。</div></div>
</div>
<div class="card">
<div class="field_0">Function Call里面，<br><div>函数级和参数级 description&nbsp; 的作用是什么？&nbsp;</div></div>
<div class="separator"></div>
<div class="field_1"><ul><li>帮助模型正确理解函数用途</li><li>指导模型生成合适的参数</li></ul></div>
</div>
<div class="card">
<div class="field_0"><div><div>在Function Call 里面，parse_response 解析模型响应的时候为什么要加入一个这样的字典？&nbsp;</div></div><div><div><div>available_functions = { "get_current_weather": get_current_weather}&nbsp;&nbsp;</div></div></div></div>
<div class="separator"></div>
<div class="field_1">这个字典实际上是一个<span style="color: rgb(255, 0, 127);"><b>安全层</b></span>，用来<span style="color: rgb(255, 0, 127);"><b>控制和管理</b></span>可以被调用的函数。<br>方便<b><span style="color: rgb(255, 0, 127);">扩展</span></b>，可以在里面轻松添加新的函数，比如下面这样。&nbsp;<br><br>available_functions = {<br>&nbsp;&nbsp;&nbsp; "get_current_weather": get_current_weather,<br>&nbsp;&nbsp;&nbsp; "get_forecast": get_forecast,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # 添加天气预报<br>&nbsp;&nbsp;&nbsp; "get_air_quality": get_air_quality&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # 添加空气质量<br>}</div>
</div>
<div class="card">
<div class="field_0">Function Call里面，<br><div>涉及到两次的模型调用chat_completion_request，它们的作用分别是什么？&nbsp;</div></div>
<div class="separator"></div>
<div class="field_1">第一次调用模型：决定是否需要调用函数，决定要做什么（是否调用函数），<br>第二次调用模型：生成最终回复。解释函数结果（生成用户友好的回复）。</div>
</div>
<div class="card">
<div class="field_0">response.choices[0].message.tool_calls[0].function 包含哪两个键key，以及各个值是什么类型？结构是什么样的？</div>
<div class="separator"></div>
<div class="field_1">name 是<b><span style="color: rgb(255, 0, 127);">字符串</span></b>，表示函数名，<br>arguments 是<span style="white-space: pre-wrap;"><span style="color: rgb(255, 0, 127);"><b>JSON 格式的参数字符串</b></span><span style="color: var(--color-prettylights-syntax-comment);">,表示参数。</span></span><pre><b>function</b> <span style="color: var(--color-prettylights-syntax-constant);">=</span> {
<span style="color: var(--color-prettylights-syntax-string);">"<b>name</b>"</span>: <span style="color: var(--color-prettylights-syntax-string);">"get_current_weather"</span>,  <span style="color: var(--color-prettylights-syntax-comment);"># 函数名</span>
<span style="color: var(--color-prettylights-syntax-string);">"</span><b>arguments</b><span style="color: var(--color-prettylights-syntax-string);">"</span>: <span style="color: var(--color-prettylights-syntax-string);">"{"location": "北京"}"</span>  <span style="color: var(--color-prettylights-syntax-comment);"># JSON 格式的参数字符串</span>
}</pre></div>
</div>
<div class="card">
<div class="field_0">Function Call里面，description 这个字段的值它的作用是什么？&nbsp;&nbsp;<br>tools = [{<br>&nbsp;&nbsp;&nbsp; "type": "function",<br>&nbsp;&nbsp;&nbsp; "function": {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "name": "get_current_weather",<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "<b><span style="color: rgb(255, 0, 127);">description</span></b>": "获取指定城市的实时天气信息",&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "parameters": {...}<br>&nbsp;&nbsp;&nbsp; }<br>}]</div>
<div class="separator"></div>
<div class="field_1">这个描述帮助模型决定是否使用此函数，影响模型的选择。</div>
</div>
<div class="card">
<div class="field_0">Function Call里面，<br><div><div>tool_calls 里面包含什么信息？ 以及举例。</div></div></div>
<div class="separator"></div>
<div class="field_1">里面包含的是所有需要调用的工具，就比如说函数，函数的话，它包含函数名和函数对应的参数。&nbsp;</div>
</div>
<div class="card">
<div class="field_0">Function Call里面，<br>function_args = json.loads(response_message.tool_calls[0].function.arguments)<br>这行代码里面为什么使用json.loads?</div>
<div class="separator"></div>
<div class="field_1">因为response_message.tool_calls[0].function.arguments 是一个 JSON 格式的字符串。json.loads 将字符串转换成JSON对象。</div>
</div>
<div class="card">
<div class="field_0">Function Call里面，这两行代码之后接下来该怎么写？ 【代码】<br><div><pre><b>function_name <span style="color: var(--color-prettylights-syntax-constant);">=</span> tool_call.<span style="color: var(--color-prettylights-syntax-constant);">function</span>.<span style="color: var(--color-prettylights-syntax-constant);">name</span>
function_args <span style="color: var(--color-prettylights-syntax-constant);">=</span> json.<span style="color: var(--color-prettylights-syntax-constant);">loads</span>(tool_call.<span style="color: var(--color-prettylights-syntax-constant);">function</span>.<span style="color: var(--color-prettylights-syntax-constant);">arguments</span>)</b></pre></div></div>
<div class="separator"></div>
<div class="field_1"><pre><ul><li><b>function_name <span style="color: var(--color-prettylights-syntax-constant);">=</span> tool_call.<span style="color: var(--color-prettylights-syntax-constant);">function</span>.<span style="color: var(--color-prettylights-syntax-constant);">name</span></b></li><li><b>function_args <span style="color: var(--color-prettylights-syntax-constant);">=</span> json.<span style="color: var(--color-prettylights-syntax-constant);">loads</span>(tool_call.<span style="color: var(--color-prettylights-syntax-constant);">function</span>.<span style="color: var(--color-prettylights-syntax-constant);">arguments</span>)
</b></li><li><b><span style="color: var(--color-prettylights-syntax-comment);"># 调用函数</span></b></li><li><b>result <span style="color: var(--color-prettylights-syntax-constant);">=</span> available_functions[function_name](<span style="color: var(--color-prettylights-syntax-constant);">**</span>function_args)</b></li></ul></pre></div>
</div>
<div class="card">
<div class="field_0">Function Call里面，<br><div>函数级 description&nbsp; 的作用是什么？&nbsp;</div></div>
<div class="separator"></div>
<div class="field_1"><ol><li>说明函数的整体用途<br></li><li>描述功能范围和限制<br></li><li>指明适用场景<br></li><li>提供使用建议<br></li></ol><br></div>
</div>
<div class="card">
<div class="field_0">function call的对话使用流程，在此过程中，模型自主选择自定义的函数们来执行，返回执行后的结果 ，这个说法是否正确？&nbsp;</div>
<div class="separator"></div>
<div class="field_1">此说法存在偏差。实际上，模型会自主筛选待执行的函数。在实际执行阶段，需要手动对tool_calls中包含的函数进行循环遍历，按顺序调用这些被选中的函数，将执行结果封装成对象，并依次添加到messages历史对话记录中。</div>
</div>
<div class="card">
<div class="field_0">Function Call 里面发送请求的时候使用什么代码发送？&nbsp;</div>
<div class="separator"></div>
<div class="field_1">使用 client.chat.completions.create 发送请求。</div>
</div>
<div class="card">
<div class="field_0">定义函数调用（Function Calling）的 schema，里面的函数定义包含什么？【3个】</div>
<div class="separator"></div>
<div class="field_1"><ul><li>name: 函数名称，</li><li>description: 函数功能描述，</li><li>parameters: 参数定义。</li></ul></div>
</div>
<div class="card">
<div class="field_0">tools 里面，function对象里面的name 和&nbsp;description，以及parameters&nbsp; 这三个键它们的作用分别是什么？&nbsp;</div>
<div class="separator"></div>
<div class="field_1"><ul><li>函数名，这个会被模型用来选择要调用的函数，</li><li>函数描述，帮助模型理解函数用途，</li><li>函数参数定义。</li></ul></div>
</div>
<div class="card">
<div class="field_0">Function Call里面，<br><div>涉及到两次的模型调用chat_completion_request，</div><div>第一次调用它的目的是什么？&nbsp;</div></div>
<div class="separator"></div>
<div class="field_1"><div><pre><span style="color: var(--color-prettylights-syntax-comment);"># - 让模型判断是否需要调用函数</span>
<span style="color: var(--color-prettylights-syntax-comment);"># - 如果需要，确定调用哪个函数</span>
<span style="color: var(--color-prettylights-syntax-comment);"># - 生成函数所需的参数</span></pre></div></div>
</div>
<div class="card">
<div class="field_0"><div><div>在Function Call 里面，拿到模型返回的函数名,这个函数名&nbsp; 必须来自于哪里？&nbsp;</div></div></div>
<div class="separator"></div>
<div class="field_1">模型只能返回我们在 <b><span style="color: rgb(255, 0, 127);">tools </span></b>中预先定义的函数名。</div>
</div>
<div class="card">
<div class="field_0"><div>Function Call 能够让大模型在什么过程中自动检测到什么，然后以什么形式来生成一个什么，然后是什么格式？&nbsp;&nbsp;</div></div>
<div class="separator"></div>
<div class="field_1">Function Call 能让大模型在<span style="color: rgb(255, 0, 127);"><b>对话</b></span>过程中自动检测<span style="color: rgb(255, 0, 127);"><b>用户需求</b></span>，并以<span style="color: rgb(255, 0, 127);"><b>结构化</b></span>的形式生成一个函数调用请求（通常为 <span style="color: rgb(255, 0, 127);"><b>JSON </b></span>格式），以便<b><span style="color: rgb(255, 0, 127);">开发者</span></b>调用实际的函数获取实时数据或执行特定操作，再将结果传回给模型，最终生成完整的回答。</div>
</div>
<div class="card">
<div class="field_0">Function Call里面，<br>多轮对话 和&nbsp;多个单轮对话，两者使用的Function Call 的流程是否一样？ 以及为什么？</div>
<div class="separator"></div>
<div class="field_1">一样的，因为可以把多轮对话理解为多个单轮对话的串联。</div>
</div>
<div class="card">
<div class="field_0">Function Call里面，<br><div><div>获取了tool_call之后，如何获得function_name 以及function_args 【代码】</div></div></div>
<div class="separator"></div>
<div class="field_1"><ul><li>function_name = tool_call.function.name </li><li>function_args = json.loads(tool_call.function.arguments)&nbsp;</li></ul></div>
</div>
<div class="card">
<div class="field_0">Function Call里面，<br>模型可能决定调用几个函数？</div>
<div class="separator"></div>
<div class="field_1">零个、一个或多个。</div>
</div>
<div class="card">
<div class="field_0">Function Call里面，<br>模型返回的函数名和对应的参数格式必须来自于哪里？&nbsp;&nbsp;</div>
<div class="separator"></div>
<div class="field_1"><ul><li>模型返回的函数名必定来自 <b><span style="color: rgb(255, 0, 127);">tools </span></b>定义，</li><li>参数格式必须符合 <b><span style="color: rgb(255, 0, 127);">tools</span></b> 中的定义。</li></ul></div>
</div>
<div class="card">
<div class="field_0">Function Call里面，<br>tool_calls&nbsp;列表 是否可能存在多个函数？如果是的话怎么执行？&nbsp; &nbsp;</div>
<div class="separator"></div>
<div class="field_1">是的，按照顺序依次执行。&nbsp;</div>
</div>
<div class="card">
<div class="field_0">Function Call 里面，<br>messages 里面有role这个key，对应的value有哪些？</div>
<div class="separator"></div>
<div class="field_1">system，user，assistant，tool。</div>
</div>
<div class="card">
<div class="field_0"><div>大模型是否会直接利用 Function call&nbsp; 调用函数？以及为什么？</div></div>
<div class="separator"></div>
<div class="field_1"><div>&nbsp;大模型的 Function call<span style="color: rgb(255, 0, 127);"><b> 不会</b></span>调用函数，<span style="color: rgb(255, 0, 127);"><b>仅返回函数的参数</b></span>。<span style="color: rgb(255, 0, 127);"><b>开发者</b></span>利用模型输出的参数在应用中<b><span style="color: rgb(255, 0, 127);">调用函数。</span></b></div></div>
</div>
<div class="card">
<div class="field_0">Function Call里面，<br>function call的对话使用流程是什么样的？【4个阶段】</div>
<div class="separator"></div>
<div class="field_1"><ol><li>首先初始化对话，也就是系统角色和用户问题。 输入模型以后拿到初步的回复。</li><li>对回复进行解析。拿到接下来要调用的函数名和参数。&nbsp;&nbsp;</li><li>依次调用这些函数，并把函数的执行结果添加到对话历史。&nbsp;</li><li>将更新后的对话历史发送至模型，从而获得最终回复。</li></ol><br></div>
</div>
<div class="card">
<div class="field_0">Function Call里面，<br>每次 Function Call 包含几次模型调用。以及作用是什么？</div>
<div class="separator"></div>
<div class="field_1">两次模型调用。<br><div><ul><li>第一次调用模型：决定是否需要调用函数，</li><li>第二次调用模型：生成最终回复。</li></ul></div></div>
</div>
<div class="card">
<div class="field_0">Function Call里面，<br>调用模型使用的函数是chat_completion_request，第一次调用和第二次调用分别参数的区别是什么？&nbsp;</div>
<div class="separator"></div>
<div class="field_1">第一次调用：传入三个参数，<br><ul><li>messages=messages, </li><li>tools=tools, # 定义的函数工具集合 </li><li>tool_choice="auto"</li></ul>第二次调用：传入一个参数，<br><ul><li>messages=messages # 包含了完整的对话历史</li></ul></div>
</div>
<div class="card">
<div class="field_0">function call的对话使用流程是什么样的？【4个阶段】</div>
<div class="separator"></div>
<div class="field_1"><ul><li>首先，设定<span style="color: rgb(255, 0, 127);"><b>系统角色和用户问题[role: system, user]</b></span>，并提供模型可使用的<span style="color: rgb(255, 0, 127);"><b>自定义方法集合</b></span>，将这些信息<span style="color: rgb(255, 0, 127);"><b>通过chat_completion_request 输入模型</b></span>，以获取模型的<span style="color: rgb(255, 0, 127);"><b>初步答复[返回的内容是tools里面需要调用的所有的函数名以及函数所需要的参数]</b></span>。</li><li>接着，对模型输出的答复（response）进行<span style="color: rgb(255, 0, 127);"><b>解析</b></span>，得到<span style="color: rgb(255, 0, 127);"><b>需要使用的函数名称以及具体参数[</b>role:&nbsp;<b>assistant]，加入到</b><b>对话历史messages里面</b></span>，比如：arguments='{"location":"北京"}', name='get_current_weather')。</li><li>然后，依次<span style="color: rgb(255, 0, 127);"><b>调用tool_calls里面的函数</b></span>并更新对话历史，将解析后的结果逐个<span style="color: rgb(255, 0, 127);"><b>添加到对话历史</b></span>（messages）中。</li><li>最后，将<span style="color: rgb(255, 0, 127);"><b>更新后的对话历史</b></span>发送至模型，从而获得最终回复。<b><span style="color: rgb(255, 0, 127);">第二次使用</span></b>chat_completion_request方法来调用模型。</li></ul><br></div>
</div>
<div class="card">
<div class="field_0">Function Call里面，<br><div><div>tool_calls 和&nbsp;tools 这两个部分的类比分别是什么？&nbsp;</div></div></div>
<div class="separator"></div>
<div class="field_1"><ul><li>tools表示的是存放所有工具的工具箱，</li><li>tool_calls 表示的是依次调用哪些工具【接下来调用的工具的列表】"要调用的工具清单" 。&nbsp;<br></li></ul></div>
</div>
<div class="card">
<div class="field_0"><div><div>在Function Call 里面，下面这行代码，它返回的function_name&nbsp;这个变量来自于哪里？&nbsp;</div></div><div><div>function_name = response_message.tool_calls[0].function.name<br></div></div></div>
<div class="separator"></div>
<div class="field_1">只会返回我们在 tools 中定义的函数名。</div>
</div>
<div class="card">
<div class="field_0">Function Call里面，<br>基本流程是什么？&nbsp;</div>
<div class="separator"></div>
<div class="field_1"><ul><li>获取用户输入</li><li>调用模型判断是否需要函数</li><li>执行函数调用</li><li>生成最终回复</li></ul></div>
</div>
<div class="card">
<div class="field_0">function call的对话使用流程，<br>首次调用模型时使用chat_completion_request方法，所获取的返回值是什么呢？【返回的是哪两部分内容？】</div>
<div class="separator"></div>
<div class="field_1">模型接下来要调用的函数的名称以及对应的参数值。<br><br>该返回值是模型依据工具列表tools中的函数进行选择性执行后所产生的结果。<br>嗯<br></div>
</div>
<div class="card">
<div class="field_0">Function Call 里面，<br># 完整的对话历史示例应该是什么样的？</div>
<div class="separator"></div>
<div class="field_1">messages = [<br>&nbsp;&nbsp;&nbsp; {"role": "<span style="color: rgb(255, 0, 127);"><b>system</b></span>", "content": "你是天气助手"},<br>&nbsp;&nbsp;&nbsp; {"role": "<span style="color: rgb(255, 0, 127);"><b>user</b></span>", "content": "北京天气怎么样？"},<br>&nbsp;&nbsp;&nbsp; {"role": "<span style="color: rgb(255, 0, 127);"><b>assistant</b></span>", "content": "让我查询一下...",<br>&nbsp;&nbsp;&nbsp;&nbsp; "tool_calls": [...]},<br>&nbsp;&nbsp;&nbsp; {"role": "<span style="color: rgb(255, 0, 127);"><b>tool</b></span>", "tool_call_id": "call_1", "name": "get_weather",<br>&nbsp;&nbsp;&nbsp;&nbsp; "content": "北京天气晴朗"},<br>&nbsp;&nbsp;&nbsp; {"role": "<b><span style="color: rgb(255, 0, 127);">assistant</span></b>", "content": "根据查询结果..."}<br>]</div>
</div>
<div class="card">
<div class="field_0">模型返回的完整的响应 如下所示，message.tool_calls 里面有多个函数的时候，如何处理多个函数调用【代码，1 遍历所有函数调用，2 处理每个函数调用】<br><pre><b><span style="color: rgb(255, 0, 127);">response </span></b><span style="color: var(--color-prettylights-syntax-constant);">=</span> {
<span style="color: var(--color-prettylights-syntax-string);">"id"</span>: <span style="color: var(--color-prettylights-syntax-string);">"chat_abc123"</span>,
<span style="color: var(--color-prettylights-syntax-string);">"</span><b><span style="color: rgb(255, 0, 127);">choices</span></b><span style="color: var(--color-prettylights-syntax-string);">"</span>: [{
<span style="color: var(--color-prettylights-syntax-string);">"index"</span>: <span style="color: var(--color-prettylights-syntax-constant);">0</span>,
<span style="color: var(--color-prettylights-syntax-string);">"</span><b><span style="color: rgb(255, 0, 127);">message</span></b><span style="color: var(--color-prettylights-syntax-string);">"</span>: {
<span style="color: var(--color-prettylights-syntax-string);">"role"</span>: <span style="color: var(--color-prettylights-syntax-string);">"assistant"</span>,
<span style="color: var(--color-prettylights-syntax-string);">"content"</span>: <span style="color: var(--color-prettylights-syntax-string);">"我来帮您查询天气信息"</span>,
<span style="color: var(--color-prettylights-syntax-string);">"</span><b><span style="color: rgb(255, 0, 127);">tool_calls</span></b><span style="color: var(--color-prettylights-syntax-string);">"</span>: [{
<span style="color: var(--color-prettylights-syntax-string);">"id"</span>: <span style="color: var(--color-prettylights-syntax-string);">"call_xyz789"</span>,
<span style="color: var(--color-prettylights-syntax-string);">"type"</span>: <span style="color: var(--color-prettylights-syntax-string);">"function"</span>,
<span style="color: var(--color-prettylights-syntax-string);">"</span><b><span style="color: rgb(255, 0, 127);">function</span></b><span style="color: var(--color-prettylights-syntax-string);">"</span>: {
<span style="color: var(--color-prettylights-syntax-string);">"name"</span>: <span style="color: var(--color-prettylights-syntax-string);">"get_current_weather"</span>,
<span style="color: var(--color-prettylights-syntax-string);">"arguments"</span>: <span style="color: var(--color-prettylights-syntax-string);">"{\"location\": \"北京\"}"</span>
}
}]
},
<span style="color: var(--color-prettylights-syntax-string);">"finish_reason"</span>: <span style="color: var(--color-prettylights-syntax-string);">"tool_calls"</span>
}]
}</pre></div>
<div class="separator"></div>
<div class="field_1"># 遍历所有函数调用<br>for tool_call in message.tool_calls:<br>&nbsp;&nbsp;&nbsp; function_name = tool_call.function.name<br>&nbsp;&nbsp;&nbsp; function_args = json.loads(tool_call.function.arguments)<br>&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp; # 处理每个函数调用<br>&nbsp;&nbsp;&nbsp; result = available_functions[function_name](**function_args)<br>&nbsp;&nbsp;&nbsp; print(f"函数 {function_name} 的结果: {result}")</div>
</div>
<div class="card">
<div class="field_0"><div><div>模型，tools，available_function这三者是一个闭环，具体是什么闭环？&nbsp;&nbsp;</div></div></div>
<div class="separator"></div>
<div class="field_1">模型只能从tools定义的函数里面进行选择，选择特定的函数名。然后available_function则是提供具体选择的函数名和具体函数实现的映射关系。<br><br><ul><li>tools 定义了可用的函数名和参数，</li><li>模型只能选择 tools 中定义的函数，</li><li>available_functions 提供这些函数的实际实现，映射关系。</li></ul></div>
</div>
<div class="card">
<div class="field_0"><div>使用Function Call的基本流程里面的 模型应用Function Call 是什么意思？</div><br>【输入什么，模型输出什么？然后调用什么？得到什么? 之后进行信息融合，以后怎么样？】</div>
<div class="separator"></div>
<div class="field_1"><div><span style="color: rgb(38, 38, 38);">输入</span><span style="color: rgb(255, 0, 127);"><b>prompt</b></span><span style="color: rgb(38, 38, 38);">，模型输出</span><span style="color: rgb(255, 0, 127);"><b>函数参数</b></span><span style="color: rgb(38, 38, 38);">，然后</span><b><span style="color: rgb(255, 0, 127);">调用本地函数</span></b><span style="color: rgb(38, 38, 38);">得到结果，融合消息再次送入模型，得到结果。</span></div></div>
</div>
<div class="card">
<div class="field_0">function call的对话使用流程，在此过程中，chat_completion_request 函数会被调用几次。以及每次的区别是什么？【是否包含tools这个参数？第一次是让模型判断什么？第二次让模型生成什么？】</div>
<div class="separator"></div>
<div class="field_1"><div style="display: inline !important;">两次调用模型的区别：</div><ul><li>第一次：包含&nbsp;<code>tools</code>&nbsp;参数，让模型决定是否调用函数</li><li>第二次：不需要&nbsp;<code>tools</code>&nbsp;参数，只需要生成最终自然语言的回复</li></ul></div>
</div>
<div class="card">
<div class="field_0">Function Call 里面，<br>role 有四种值，分别是什么以及含义是什么？</div>
<div class="separator"></div>
<div class="field_1"><ul><li>system: <b><span style="color: rgb(255, 0, 127);">系统</span></b>指令，</li><li>user: <b><span style="color: rgb(255, 0, 127);">用户</span></b>输入，</li><li>assistant: <b><span style="color: rgb(255, 0, 127);">助手AI</span></b>回复，</li><li>tool: <b><span style="color: rgb(255, 0, 127);">函数调用结果。</span></b></li></ul></div>
</div>
<div class="card">
<div class="tags" aria-hidden="true">Tags: 导入Edge::2-19</div>
<div class="field_0">在 Function Call 机制下，大模型是否会返回纯文本回复。&nbsp;</div>
<div class="separator"></div>
<div class="field_1">不会。</div>
</div>
<div class="card">
<div class="field_0"><div>使用Function Call的基本流程是什么？</div> 【输入什么，模型输出什么，然后再调用什么？然后怎么样之后再送入模型，得到结果。】</div>
<div class="separator"></div>
<div class="field_1">1 模型应用Function Call，输入prompt ”今天北京天气怎么样？“ ，<br>2 模型输出函数名称和参数 “get_weather, Beijing" ，<br>3 然后调用本地函数得到结果 "晴天, 最高温度10度，最低温度5度。"，<br>4 融合消息再次送入模型，得到结果。"今天北京的天气是晴天，最高温度10度，最低温度5度，请注意保暖。"</div>
</div>
<div class="card">
<div class="field_0">function_name = response_message.tool_calls[0].function.name 这行代码是模型返回的函数名，这个函数名必定是来自于tools这个列表里面。那么直接使用不就行了，不需要担心非法的函数名。为什么要添加一个额外的available_functions映射字典？</div>
<div class="separator"></div>
<div class="field_1"><pre><div>available_functions&nbsp;提供了：<span style="font-family: Arial;">更好的<span style="color: rgb(255, 0, 127);"><b>灵活</b></span>性，更好的<span style="color: rgb(255, 0, 127);"><b>扩展</b></span>性和更方便的<b><span style="color: rgb(255, 0, 127);">版本控制</span></b>。 </span></div></pre><pre><b><span style="color: var(--color-prettylights-syntax-comment);"># available_functions 中定义实现</span><br>available_functions <span style="color: var(--color-prettylights-syntax-constant);">=</span> {<br>    <span style="color: var(--color-prettylights-syntax-string);">"get_weather"</span>: get_current_weather_v1,  <span style="color: var(--color-prettylights-syntax-comment);"># 可以随时换成新版本</span><br>    <span style="color: var(--color-prettylights-syntax-comment);"># "get_weather": get_current_weather_v2,  # 更换实现很容易</span><br>}</b></pre></div>
</div>
<div class="card">
<div class="field_0"><div><div>response_message.tool_calls[0].function.name&nbsp;</div></div>这行代码的作用是什么？&nbsp;<br>【从哪里获得什么？】</div>
<div class="separator"></div>
<div class="field_1">从模型回复中获得接下来需要调用的函数名。</div>
</div>
<div class="card">
<div class="tags" aria-hidden="true">Tags: 导入Edge::2-19</div>
<div class="field_0">在 Function Call 机制下，大模型会根据用户的数据来判断调用什么函数【返回的是什么格式以及包含哪些内容】</div>
<div class="separator"></div>
<div class="field_1">返回的是JSON格式，通常包含函数名称和调用所需的参数。</div>
</div>
<div class="card">
<div class="field_0">使用下面的结构来存储Function Call函数的返回结果，为什么这样的结构是必要的？ 【下面对象里面各个键是什么意思/作用？ 】<br>{<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "role": "tool",&nbsp; &nbsp; &nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "tool_call_id": tool_call.id,&nbsp; &nbsp; &nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "name": function_name,&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "content": result&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<br>}</div>
<div class="separator"></div>
<div class="field_1"><ul><li>用于标记这个响应是函数返回结果，而不是用户的输入。&nbsp;</li><li>用于匹配请求和响应，</li><li>标识是哪个函数的结果，</li><li>存储实际的函数执行结果。</li></ul></div>
</div>
<div class="card">
<div class="field_0">模型返回的完整的响应结构如下所示，&nbsp;获取函数名 以及 解析参数 的代码是什么？<br><pre><b><span style="color: rgb(255, 0, 127);">response </span></b><span style="color: var(--color-prettylights-syntax-constant);">=</span> {
<span style="color: var(--color-prettylights-syntax-string);">"id"</span>: <span style="color: var(--color-prettylights-syntax-string);">"chat_abc123"</span>,
<span style="color: var(--color-prettylights-syntax-string);">"</span><b><span style="color: rgb(255, 0, 127);">choices</span></b><span style="color: var(--color-prettylights-syntax-string);">"</span>: [{
<span style="color: var(--color-prettylights-syntax-string);">"index"</span>: <span style="color: var(--color-prettylights-syntax-constant);">0</span>,
<span style="color: var(--color-prettylights-syntax-string);">"</span><b><span style="color: rgb(255, 0, 127);">message</span></b><span style="color: var(--color-prettylights-syntax-string);">"</span>: {
<span style="color: var(--color-prettylights-syntax-string);">"role"</span>: <span style="color: var(--color-prettylights-syntax-string);">"assistant"</span>,
<span style="color: var(--color-prettylights-syntax-string);">"content"</span>: <span style="color: var(--color-prettylights-syntax-string);">"我来帮您查询天气信息"</span>,
<span style="color: var(--color-prettylights-syntax-string);">"</span><b><span style="color: rgb(255, 0, 127);">tool_calls</span></b><span style="color: var(--color-prettylights-syntax-string);">"</span>: [{
<span style="color: var(--color-prettylights-syntax-string);">"id"</span>: <span style="color: var(--color-prettylights-syntax-string);">"call_xyz789"</span>,
<span style="color: var(--color-prettylights-syntax-string);">"type"</span>: <span style="color: var(--color-prettylights-syntax-string);">"function"</span>,
<span style="color: var(--color-prettylights-syntax-string);">"</span><b><span style="color: rgb(255, 0, 127);">function</span></b><span style="color: var(--color-prettylights-syntax-string);">"</span>: {
<span style="color: var(--color-prettylights-syntax-string);">"name"</span>: <span style="color: var(--color-prettylights-syntax-string);">"get_current_weather"</span>,
<span style="color: var(--color-prettylights-syntax-string);">"arguments"</span>: <span style="color: var(--color-prettylights-syntax-string);">"{\"location\": \"北京\"}"</span>
}
}]
},
<span style="color: var(--color-prettylights-syntax-string);">"finish_reason"</span>: <span style="color: var(--color-prettylights-syntax-string);">"tool_calls"</span>
}]
}</pre></div>
<div class="separator"></div>
<div class="field_1"><ul><li>function = response.choices[0].message.tool_calls[0].function&nbsp;</li><li>function_name = function["name"] # 获取函数名&nbsp;</li><li>function_args = json.loads(function["arguments"]) # 解析参数</li></ul><div><div></div></div><br></div>
</div>
<div class="card">
<div class="field_0"><div><div>在Function Call 里面，下面这行代码，它出现在哪个阶段以及它的键跟哪里的什么保持一致。&nbsp;</div></div><div><div>available_functions = { "get_current_weather": get_current_weather}</div></div></div>
<div class="separator"></div>
<div class="field_1"><div>出现在parse_response这个函数里面。解析模型响应的阶段。&nbsp;</div><div>&nbsp;available_functions 的键必须与 tools 中定义的函数名完全一致。<br></div></div>
</div>
<div class="card">
<div class="field_0">Function call 是什么含义？【允许谁怎么样？】</div>
<div class="separator"></div>
<div class="field_1">让大模型调用函数api。</div>
</div>
<div class="card">
<div class="field_0">在Function Call 里面，<br>模型是否会返回未知的函数名，以及为什么？</div>
<div class="separator"></div>
<div class="field_1">不会，因为它只能从我们预先定义的 tools 列表中选择。</div>
</div>
<div class="card">
<div class="field_0"><div>2023年6月13日 OpenAI 公布了 Function Call（函数调用） 功能，该功能指的是什么？</div> 【语言模型集成了什么功能？意味着模型在生成文本过程中可以调用什么？】</div>
<div class="separator"></div>
<div class="field_1">在语言模型中集成外部功能或API的调用能力，这意味着模型可以在生成文本的过程中调用外部函数或服务，获取额外的数据或执行特定的任务。</div>
</div>
<div class="card">
<div class="tags" aria-hidden="true">Tags: 导入Edge::2-19</div>
<div class="field_0">在 Function Call 机制下，大模型会返回函数名称和对应参数，随后到底是谁执行？是模型自己执行还是说开发者执行？ 函数执行后的返回信息，存储到哪里？然后发送给谁，然后生成什么。&nbsp;</div>
<div class="separator"></div>
<div class="field_1">真正的调用动作由<span style="color: rgb(255, 0, 127);"><b>开发者的代码</b></span>来完成，就是直接将参数传入到这个函数名称里面来调用。<br>返回内容存储在<span style="color: rgb(255, 0, 127);"><b>messages的历史对话</b></span>里面，发送给大模型以后生成<b><span style="color: rgb(255, 0, 127);">最终答案</span></b>。&nbsp;</div>
</div>
<div class="card">
<div class="field_0"><div>Function Call 是一种什么机制？</div> 【让谁与谁连接的机制。】</div>
<div class="separator"></div>
<div class="field_1">让大模型（如 GPT-4 或其它大型语言模型）与外部工具或 API 连接的机制。</div>
</div>
<div class="card">
<div class="field_0"><div><div>在Function Call 里面，拿到模型返回的函数名具体的代码是什么？&nbsp;</div></div></div>
<div class="separator"></div>
<div class="field_1">function_name = response_message.<b><span style="color: rgb(255, 0, 127);">tool_calls[0].</span></b>function.name</div>
</div>
<div class="card">
<div class="field_0">定义的tools 里面的function 对象，包含哪三个键key？</div>
<div class="separator"></div>
<div class="field_1">name，description，parameters。</div>
</div>
<div class="card">
<div class="tags" aria-hidden="true">Tags: 导入Edge::2-19</div>
<div class="field_0">在 Function Call 机制下，大模型会根据什么来生成一个结构化的什么格式？ 包含了哪些内容？&nbsp;</div>
<div class="separator"></div>
<div class="field_1">大模型会根据<span style="color: rgb(255, 0, 127);"><b>预设的函数描述</b></span>，自动生成一个包含“<span style="color: rgb(255, 0, 127);"><b>函数名称</b></span>”和<span style="color: rgb(255, 0, 127);"><b>“参数</b></span>”的结构化 <b><span style="color: rgb(255, 0, 127);">JSON 对象</span></b>，而不是直接返回纯文本回复。</div>
</div>
<div class="card">
<div class="field_0">Function Call 里面，对于下面代码，<br>&nbsp;results.append(result)&nbsp; 直接存储结果是通用的做法吗？&nbsp;<br>def process_multiple_calls(response):<br>&nbsp;&nbsp;&nbsp; results = []<br>&nbsp;&nbsp;&nbsp; for tool_call in message.tool_calls:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; function_name = tool_call.function.name<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; function_args = json.loads(tool_call.function.arguments)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; result = available_functions[function_name](**function_args)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <b><span style="color: rgb(255, 0, 127);">results.append(result)&nbsp; # 直接存储结果</span></b><br>&nbsp;&nbsp;&nbsp; return results</div>
<div class="separator"></div>
<div class="field_1">不是的，应该将其改为下面的这种写法。&nbsp;&nbsp;
<br># 构造标准格式的结果
<br>results.append({
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "role": "tool",&nbsp;&nbsp;&nbsp;&nbsp; # 用于表示函数返回结果。&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "tool_call_id": tool_call.id,&nbsp;&nbsp;&nbsp; # 用于匹配请求和响应
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "name": function_name,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # 标识是哪个函数的结果
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "content": result&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # 实际的函数执行结果
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; })</div>
</div>
<div class="card">
<div class="tags" aria-hidden="true">Tags: 导入Edge::2-19</div>
<div class="field_0">Function Call 可以让模型在什么过程中，自动检测用户的什么？然后生成一个什么格式的什么请求？&nbsp;</div>
<div class="separator"></div>
<div class="field_1">Function Call&nbsp;能让大模型在<span style="color: rgb(255, 0, 127);"><b>对话过程</b></span>中自动检测用户<span style="color: rgb(255, 0, 127);"><b>需求</b></span>，并以结构化的形式生成一个<b><span style="color: rgb(255, 0, 127);">函数调用</span></b>请求（通常为 <span style="color: rgb(255, 0, 127);"><b>JSON </b></span>格式），</div>
</div>
<div class="card">
<div class="field_0">Function Call 里面，<br>messages 里面有role这个key，为什么使用 "tool" 而不是 "user"？</div>
<div class="separator"></div>
<div class="field_1"><div style="display: inline !important;">语义区分：</div><ul><li>"user": 表示真实<b><span style="color: rgb(255, 0, 127);">用户的输入，</span></b></li><li>"tool": 表示工具/<b><span style="color: rgb(255, 0, 127);">函数的返回</span></b>结果。</li></ul></div>
</div>
<div class="card">
<div class="field_0"><div>在 Function Call 机制下，大模型会根据什么，自动生成一个包含哪两个部分的结构化 JSON 对象，而不是直接返回什么？</div></div>
<div class="separator"></div>
<div class="field_1">根据预设的函数描述，“函数名称”和“参数”，纯文本回复。</div>
</div>
<div class="card">
<div class="field_0"><div><div>在Function Call 里面，tools 它是一个工具列表，它是一个什么类型，而且每个对象它包括哪两个键。&nbsp;</div></div></div>
<div class="separator"></div>
<div class="field_1">它是一个存放<b><span style="color: rgb(255, 0, 127);">字典的列表</span></b>。 每个字典里面都要包含<span style="color: rgb(255, 0, 127);"><b>type和function</b></span>这两个键。&nbsp;</div>
</div>
<div class="card">
<div class="field_0">response = client.chat.completions.create(...)<br>如何根据模型返回的response&nbsp;，获得方法名称和方法参数？【代码】</div>
<div class="separator"></div>
<div class="field_1"><div><pre><ul><li><b>tool_call <span style="color: var(--color-prettylights-syntax-constant);">=</span> response.<span style="color: rgb(255, 0, 127);">choices[0].message.tool_calls[0]
</span></b></li><li><b><span style="color: var(--color-prettylights-syntax-entity);">print</span>(tool_call.<span style="color: rgb(255, 0, 127);">function.name</span>)  <span style="color: var(--color-prettylights-syntax-comment);"># "get_weather_forecast"</span></b></li><li><b><span style="color: var(--color-prettylights-syntax-entity);">print</span>(tool_call.<span style="color: rgb(255, 0, 127);">function.arguments</span>)  <span style="color: var(--color-prettylights-syntax-comment);"># '{"location": "北京", "days": 1}'</span></b></li></ul></pre><div></div></div><br></div>
</div>

<script>
document.addEventListener('click', function(e) {
const container = e.target.closest('.video-container');
if (!container) return;

const placeholder = container.querySelector('.video-placeholder');
if (!placeholder) return;

const videoId = container.dataset.videoId;
const startParam = container.dataset.start || '';

const iframe = document.createElement('iframe');
iframe.width = '100%';
iframe.height = '100%';
iframe.src = `https://www.youtube.com/embed/${videoId}?${startParam.slice(1)}`;
iframe.title = 'YouTube video player';
iframe.frameBorder = '0';
iframe.style.position = 'absolute';
iframe.style.top = '0';
iframe.style.left = '0';
iframe.style.borderRadius = '15px';
iframe.allow = 'accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share';
iframe.allowFullscreen = true;

placeholder.innerHTML = '';
placeholder.appendChild(iframe);
});
</script>

</div>
<div class="footer">Made by <a href="https://xxhk.org">Export Notes - XXHK</a></div>
</body>
</html>

